#!/bin/sh
# Runtime detection wrapper script
# Supports both bun and node runtimes

SCRIPT_DIR="$(cd "$(dirname "$(readlink -f "$0")")" && pwd)"
PACKAGE_DIR="$(dirname "$SCRIPT_DIR")"
SRC_PATH="$PACKAGE_DIR/src/index.ts"

if command -v bun >/dev/null 2>&1; then
  exec bun "$SRC_PATH" "$@"
elif command -v node >/dev/null 2>&1; then
  exec node "$SRC_PATH" "$@"
else
  echo "Error: Either bun or node is required to run drw" >&2
  exit 1
fi
